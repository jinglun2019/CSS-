## 替换元素——修改某个属性值，内容会被替换的元素

eg: input、iframe、img、input、object、textarea

## 替换元素的特性

- 内容元素不受 CSS 影响，即在样式表现在 CSS 作用域之外；
- 有自己的尺寸。如 video、iframe、canvas 默认尺寸 300\*150；img 默认尺寸为 0；
- 在 css 属性上有自己的一套规则。vertical-align 默认值为 baseline， 在非替换元素中为 x 的下边缘，替换元素则为元素的下边缘（替换元素没有 x）；

## 替换元素的尺寸

- 固有尺寸，即原本尺寸，比如 canvas 是 300\*150；
- HTML 尺寸，写在 HTML 上的尺寸，比如 img 的 width、height；input 的 size；
- CSS 的 width/height、max-width/min-width、max-height/min-height 设置的尺寸；

## 替换元素尺寸计算规则

- CSS 尺寸>HTML 尺寸>固有尺寸；
- 如果固有尺寸有固定的宽高，其他尺寸仅设置了宽或高，则按照固有比例显示；
- 内联替换元素和块级替换元素使用上面同一套尺寸计算规则；

## div:before {content: url(1.jpg); display: block; width: 200px; height: 200px; }图片宽高是多少？

会按固有尺寸显示，而不是 200px

## img 没有 src 属性就属于非替换元素

## 非替换元素加上 content 就成替换元素了，叫匿名替换元素

## 基于伪元素的图片内容生成技术

```
<!-- 原理没有src的img属于非替换元素，有伪元素；有src的则不是，此时after属性失效 -->
img::after {
 /* 生成 alt 信息 */
 content: attr(alt);
 /* 尺寸和定位 */
 position: absolute; bottom: 0;
 width: 100%;
 background-color: rgba(0,0,0,.5);
 transform: translateY(100%);
 /* 来点过渡动画效果 */
 transition: transform .2s;
}
img:hover::after {
 /* alt 信息显示 */
 transform: translateY(0);
}
```

## seo 友好的方式写 logo

```
  <h1>CSS世界</h1>

  h1 {
    content:url(logo.svg);
  }
```

## content 属性元素的特性

- 不能左右:empty;
- 无法被选中，就像 user-select:none 一样;
- 生成的值不能动态获取

## P58 TODO

## content 可以是 unicode 字符

## 实现...动画

```
正在加载中<dot></dot>

dot {
  display:inline-block;
  height:1em;
  line-height:1;
  overflow:hidden;
}

dot::before {
  display:block;
  content:'...\A..\A.';
  white-space:pre-wrap;
  animation:dot 3s infinite step-start both;
}

@keyframes dot {
  33% {transform:translateY(-33%)}
  66% {transform:translateY(-66%)}
}
```

## content attr 获取 html 属性

```
img::after {
 /* 生成 alt 信息 */
 content: attr(alt);
}

.icon:before {
 content: attr(data-title);
}
```

## counter-reset 默认设置为 0

## counter-reset 也可以同时设置 2 个，.xxx { counter-reset: wangxiaoer 2 wangxiaosan 3; }
